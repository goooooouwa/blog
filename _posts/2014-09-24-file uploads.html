<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13 (455674)"/><meta name="keywords" content="Architecture, rails, Server, web server"/><meta name="author" content="Greg Xu"/><meta name="created" content="2014-09-24 07:28:35 +0000"/><meta name="updated" content="2014-11-07 03:09:20 +0000"/><title>file uploads</title></head><body><div><strong>Essential</strong></div><div>A. form</div><div><span>&lt;form action="upload_file.php" method="post"</span><br clear="none"/><span>enctype="multipart/form-data"&gt;</span><br clear="none"/><span>&lt;label for="file"&gt;Filename:&lt;/label&gt;</span><br clear="none"/><span>&lt;input type="file" name="file" id="file"&gt;&lt;br&gt;</span><br clear="none"/><span>&lt;input type="submit" name="submit" value="Submit"&gt;</span><br clear="none"/><span>&lt;/form&gt;</span></div><div><span><br clear="none"/></span></div><div>B. action</div><div>uploaded_file = params[:file]  # access the posted file</div><div><br clear="none"/></div><div><br clear="none"/></div><div><strong>Approaches</strong></div><ol><li>direct upload( client -&gt; store)</li><li>pass-through uploads( client -&gt; server -&gt; store)<br clear="none"/></li></ol><div><br clear="none"/></div><div><br clear="none"/></div><div><strong>Stores</strong></div><ul><li>local filesystem( doesn't work)</li><li>self hosted storage server( with maintenance cost)</li><li>Amazon S3</li><li>Rackspace Cloud Files</li><li>Google Storage</li></ul><div><br clear="none"/></div><div><br clear="none"/></div><div><strong>Where file uploads gem( e.g. CarrierWave) comes in</strong></div><div>To assist you handling the uploaded file, including:</div><ul><li>white-list and sanitize the file uploads</li><li>storing and retrieving the files</li><li>save reference of file in database model</li><li>manipulating files</li></ul><div><br clear="none"/></div><div><br clear="none"/></div><div><strong>References</strong></div><div><a shape="rect" href="http://www.w3schools.com/php/php_file_upload.asp" target="_blank">File Upload - w3schools</a></div><div><a shape="rect" href="https://devcenter.heroku.com/articles/s3#file-uploads" target="_blank">Using AWS S3 to Store Static Assets and File Uploads - Heroku doc</a></div><div><a shape="rect" href="http://guides.rubyonrails.org/form_helpers.html#uploading-files" target="_blank">Uploading Files - Rails guide</a></div><div><a shape="rect" href="https://github.com/carrierwaveuploader/carrierwave" target="_blank">CarrierWave Github repo</a></div></body></html>