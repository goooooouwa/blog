---
layout: post
title: 'CRUD on Managed Objects'
categories: Core Data iOS
---
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13 (455674)"/><meta name="keywords" content="Core Data, iOS"/><meta name="altitude" content="41.65244674682617"/><meta name="author" content="Greg Xu"/><meta name="created" content="2014-02-27 02:57:17 +0000"/><meta name="latitude" content="30.5219852268168"/><meta name="longitude" content="114.3615835974207"/><meta name="updated" content="2014-02-27 03:15:13 +0000"/><title>CRUD on Managed Objects</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// create</span><br/>
<div>
<div><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">     NSManagedObject</span><span style="font-size: 13px; font-family: Menlo;"> *aManagedObject = [</span><span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSEntityDescription</span><span style="font-size: 13px; font-family: Menlo;">                 </span><span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">insertNewObjectForEntityForName</span><span style="font-size: 13px; font-family: Menlo;">:</span><font color="#D12F1B" face="Menlo">@“EntityName"</font> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">inManagedObjectContext</span><span style="font-size: 13px; font-family: Menlo;">:</span><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">aContext</span><span style="font-size: 13px; font-family: Menlo;">];</span><br/></div>
<div><span style="font-size: 13px; font-family: Menlo;"><br/></span></div>
<div><span style="font-size: 13px; font-family: Menlo;"><br/></span></div>
<div><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// read</span><br/></div>
<div><span style="font-size: 13px; font-family: Menlo;">    </span><span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSFetchRequest</span> <span style="font-size: 13px; font-family: Menlo;">*fetchRequest = [[</span><span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSFetchRequest</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">alloc</span><span style="font-size: 13px; font-family: Menlo;">]</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">init</span><span style="font-size: 13px; font-family: Menlo;">];<br/>
   </span> <span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSEntityDescription</span> <span style="font-size: 13px; font-family: Menlo;">*entity = [</span><span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSEntityDescription</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">entityForName</span><span style="font-size: 13px; font-family: Menlo;">:</span><font color="#D12F1B" face="Menlo">@“EntityName"</font> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">inManagedObjectContext</span><span style="font-size: 13px; font-family: Menlo;">:</span><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">aContext</span><span style="font-size: 13px; font-family: Menlo;">];<br/>
    [fetchRequest</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">setEntity</span><span style="font-size: 13px; font-family: Menlo;">:entity];<br/>
   </span> <span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSError</span> <span style="font-size: 13px; font-family: Menlo;">*error</span><span style="font-size: 13px; font-family: Menlo;">;<br/>
    </span><span style="font-size: 13px; font-family: Menlo; color: rgb(112, 61, 170);">NSArray</span> <span style="font-size: 13px; font-family: Menlo;">*fetchedManagedObjects</span><span style="font-size: 13px; font-family: Menlo;"> = [</span><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">aContext</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">executeFetchRequest</span><span style="font-size: 13px; font-family: Menlo;">:fetchRequest</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">error</span><span style="font-size: 13px; font-family: Menlo;">:&amp;error];</span></div>
<div><br/></div>
<div><br/></div>
<div><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// update</span><br/></div>
<div><span style="font-size: 13px; font-family: Menlo;">     [</span><span style="font-family: Menlo; font-size: 13px;">aManagedObject </span><span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">setValue</span><span style="font-size: 13px; font-family: Menlo;">:</span><span style="font-size: 13px; font-family: Menlo; color: rgb(209, 47, 27);">@"newValue"</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">forKey</span><span style="font-size: 13px; font-family: Menlo;">:</span><font color="#D12F1B" face="Menlo">@“keyName"</font><span style="font-size: 13px; font-family: Menlo;">];</span></div>
<div><span style="font-size: 13px; font-family: Menlo;"><br/></span></div>
<div><span style="font-size: 13px; font-family: Menlo;"><br/></span></div>
<div><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// delete</span><br/></div>
<div><span style="font-size: 13px; font-family: Menlo;">     [</span><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">aContext</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">deleteObject</span><span style="font-size: 13px; font-family: Menlo;">:</span><span style="font-family: Menlo; font-size: 13px;">aManagedObject</span><span style="font-family: Menlo; font-size: 13px;">];</span></div>
</div>
<div><span style="font-family: Menlo; font-size: 13px;"><br/></span></div>
<div><span style="font-family: Menlo; font-size: 13px;"><br/></span></div>
<div><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// Note: any change made to managed objects will not take effect only after you send save massage to the context.</span><span style="font-family: Menlo; font-size: 13px;"><br/></span></div>
<div><span style="font-size: 13px; font-family: Menlo; color: rgb(187, 44, 162);">     if</span> <span style="font-size: 13px; font-family: Menlo;">(![</span><span style="font-size: 13px; font-family: Menlo; color: rgb(79, 129, 135);">aContext</span> <span style="font-size: 13px; font-family: Menlo; color: rgb(61, 29, 129);">save</span><span style="font-size: 13px; font-family: Menlo;">:&amp;error]) {<br/>
                 </span><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;">// error handling code</span></div>
<div><span style="font-size: 13px; font-family: Menlo;">             }</span><span style="color: rgb(0, 132, 0); font-family: Menlo; font-size: 13px;"><br/></span></div>
</body></html>