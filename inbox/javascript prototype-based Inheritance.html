<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13 (455674)"/><meta name="altitude" content="37.97383117675781"/><meta name="author" content="Greg Xu"/><meta name="created" content="2014-06-15 03:48:04 +0000"/><meta name="latitude" content="30.63757341424068"/><meta name="longitude" content="114.2615499418979"/><meta name="source-url" content="https://gist.github.com/goooooouwa/116756b10004dc78419f"/><meta name="updated" content="2014-11-07 03:24:38 +0000"/><title>javascript prototype-based Inheritance</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
Javascript does not have class object, what it has to allow Inheritance is prototype object, which is just another object. The way to create an new object from a prototype object is to define a constructor function for the new object and decorate the prototype property( which is an object) of the constructor function( which is also object in javascript).
<div><br/></div>
<div><b>Create a new object from prototype</b></div>
<div>
<pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 16.799999237060547px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);"
/>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 1. define a constructor function for the new object:</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">var</span> <span style="box-sizing: border-box;">objectConstructor</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">function</span><span style="box-sizing: border-box;">(){</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">objAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"objAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">objMethod</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">function</span><span style="box-sizing: border-box;">(){</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"obj method"</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">}</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">}</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2. decorate the prototype property of the constructor function</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">objectConstructor</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">prototype</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">protoAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"protoAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">objectConstructor</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">prototype</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">protoMethod</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">function</span><span style="box-sizing: border-box;">(){</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box; color: rgb(221, 17, 68);">"proto method"</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">}</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 3. initiate the new object</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">object</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">new</span> <span style="box-sizing: border-box;">objectConstructor</span><span style="box-sizing: border-box;">();</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">object</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">objAttr</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">object</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">objMethod</span><span style="box-sizing: border-box;">();</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">object</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">protoAttr</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">object</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">protoMethod</span><span style="box-sizing: border-box;">();</span></div>
</div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;"><br/></span></div>
<div style="box-sizing: border-box;">creating a new object is basically merging the object properies and prototype properties into one object. So for object A to inherit from object B, is to first create a constructor function for A and set the constructor's prototype property to B, finally initiate object A by calling “new” on the constructor.</div>
<div style="box-sizing: border-box;"><br/></div>
<div style="box-sizing: border-box;">
<pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 16.799999237060547px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);"
/>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 1. create an parent object from prototype</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">var</span> <span style="box-sizing: border-box;">parentObjConstructor</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">function</span><span style="box-sizing: border-box;">(){</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">parentObjAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"parentObjAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">};</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">parentObjConstructor</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">prototype</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">parentProtoAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"parentProtoAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2. create child object which inherit from the parent object</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2.1 create a constructor function for the child object</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">var</span> <span style="box-sizing: border-box;">childObjConstructor</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">function</span><span style="box-sizing: border-box;">(){</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">this</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">childObjAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"childObjAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">};</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2.2 assign the parent object to the child object's prototype property</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">childObjConstructor</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">prototype</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">new</span> <span style="box-sizing: border-box;">parentObjConstructor</span><span style="box-sizing: border-box;">();</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2.3 decorate the prototype property to extend the parent prototype</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">childObjConstructor</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">prototype</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">childProtoAttr</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; color: rgb(221, 17, 68);">"childProtoAttr"</span><span style="box-sizing: border-box;">;</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">// 2.4 initiate the new object</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: bold;">var</span> <span style="box-sizing: border-box;">childObj</span> <span style="box-sizing: border-box; font-weight: bold;">=</span> <span style="box-sizing: border-box; font-weight: bold;">new</span> <span style="box-sizing: border-box;">childObjConstructor</span><span style="box-sizing: border-box;">();</span></div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"> </div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">childObj</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">parentObjAttr</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">childObj</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">parentProtoAttr</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">childObj</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">childObjAttr</span><span style="box-sizing: border-box;">);</span></div>
<div style="box-sizing: border-box;"><span style="box-sizing: border-box;">alert</span><span style="box-sizing: border-box;">(</span><span style="box-sizing: border-box;">childObj</span><span style="box-sizing: border-box;">.</span><span style="box-sizing: border-box;">childProtoAttr</span><span style="box-sizing: border-box;">);</span></div>
</div>
</body></html>